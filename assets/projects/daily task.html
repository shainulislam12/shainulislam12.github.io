<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Task Counter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 300px;
            margin: 50px auto;
            padding: 20px;
        }
        .all{
            box-shadow: 0px 0px 5px;
            border-radius: 20px;
        }
        .task {
            padding: 15px;
            border-radius: 5px;
        }
        .task-title {
            display: flex;            
            font-weight: bold;
            margin-bottom: 10px;
        }
        .progress-bar {
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            margin: 10px 0;
        }
        .progress {
            height: 100%;
            background-color: #4CAF50;
            border-radius: 10px;
            width: 0%;
        }
        .controls {
            display: flex;
            align-items: center;
        }
        button {
            padding: 5px 10px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .plus-btn { background-color: #3498db; color: white; }
        .minus-btn { background-color: #3498db; color: white; }
        .start-btn { background-color: #2196F3; color: white; }
        .reset-btn { background-color: #95a5a6; color: white; }
        .counter {
            margin: 0 10px;
            font-weight: bold;
        }
        .timer {
            font-family: monospace;
            margin: 0 10px;
        }
    </style>
</head>
<body>
    
   <div class="all">
        <!-- Prayer -->
    <div class="task">
        <div class="task-title">Prayer (0/5)</div>
        <div class="progress-bar">
            <div class="progress" id="progress1"></div>
        </div>
        <div class="controls">
            <button class="minus-btn" onclick="updateCounter('counter1', -1, 5)">-</button>
            <span class="counter" id="counter1">0</span>
            <button class="plus-btn" onclick="updateCounter('counter1', 1, 5)">+</button>
        </div>
    </div>
    
    <!-- Quran -->
    <div class="task">
        <div class="task-title">Quran (0/30 mins)</div>
        <div class="progress-bar">
            <div class="progress" id="progress2"></div>
        </div>
        <div class="controls">
            <button class="start-btn" id="start2" onclick="startTimer('timer2', 30)">Start</button>
            <span class="timer" id="timer2">00:00</span>
            <button class="reset-btn" onclick="resetTimer('timer2', 30)">Reset</button>
        </div>
    </div>
    
    <!-- Study -->
    <div class="task">
        <div class="task-title">Study (0/4 hours)</div>
        <div class="progress-bar">
            <div class="progress" id="progress3"></div>
        </div>
        <div class="controls">
            <button class="start-btn" id="start3" onclick="startTimer('timer3', 240)">Start</button>
            <span class="timer" id="timer3">00:00:00</span>
            <button class="reset-btn" onclick="resetTimer('timer3', 240)">Reset</button>
        </div>
    </div>
    
    <!-- Content -->
    <div class="task">
        <div class="task-title">Content (0/4)</div>
        <div class="progress-bar">
            <div class="progress" id="progress4"></div>
        </div>
        <div class="controls">
            <button class="minus-btn" onclick="updateCounter('counter4', -1, 4)">-</button>
            <span class="counter" id="counter4">0</span>
            <button class="plus-btn" onclick="updateCounter('counter4', 1, 4)">+</button>
        </div>
    </div>
   </div>

    <script>
        // Counter tasks (Prayer and Content)
        function updateCounter(id, change, max) {
            const counter = document.getElementById(id);
            let value = parseInt(counter.textContent) + change;
            value = Math.max(0, Math.min(value, max));
            counter.textContent = value;
            
            // Update progress bar
            const progressId = id.replace('counter', 'progress');
            const progress = document.getElementById(progressId);
            progress.style.width = (value/max)*100 + '%';
            
            // Update task title
            const taskTitle = counter.closest('.task').querySelector('.task-title');
            taskTitle.textContent = taskTitle.textContent.split('(')[0] + `(${value}/${max}${id === 'counter2' ? ' mins' : id === 'counter3' ? ' hours' : ''})`;
        }
        
        // Timer tasks (Quran and Study)
        let activeTimers = {};
        
        function startTimer(id, maxMinutes) {
            const timer = document.getElementById(id);
            const startBtn = document.getElementById('start' + id.slice(-1));
            
            if (activeTimers[id]) {
                // Stop the timer
                clearInterval(activeTimers[id].interval);
                startBtn.textContent = 'Start';
                delete activeTimers[id];
                return;
            }
            
            // Start the timer
            startBtn.textContent = 'Stop';
            const startTime = new Date();
            
            activeTimers[id] = {
                interval: setInterval(() => {
                    const elapsedMs = new Date() - startTime;
                    const elapsedMinutes = elapsedMs / (1000 * 60);
                    
                    // Update timer display
                    if (maxMinutes > 60) {
                        // Show hours for learning task
                        const hours = Math.floor(elapsedMinutes / 60);
                        const mins = Math.floor(elapsedMinutes % 60);
                        const secs = Math.floor((elapsedMinutes * 60) % 60);
                        timer.textContent = `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                    } else {
                        // Show minutes for exercise task
                        const mins = Math.floor(elapsedMinutes);
                        const secs = Math.floor((elapsedMinutes * 60) % 60);
                        timer.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                    }
                    
                    // Update progress bar
                    const progress = document.getElementById('progress' + id.slice(-1));
                    const progressPercent = Math.min(100, (elapsedMinutes / maxMinutes) * 100);
                    progress.style.width = progressPercent + '%';
                    
                    // Update task title
                    const taskTitle = timer.closest('.task').querySelector('.task-title');
                    if (maxMinutes > 60) {
                        const hours = Math.floor(elapsedMinutes / 60);
                        const mins = Math.floor(elapsedMinutes % 60);
                        taskTitle.textContent = taskTitle.textContent.split('(')[0] + `(${hours}h ${mins}m/${Math.floor(maxMinutes/60)}h)`;
                    } else {
                        taskTitle.textContent = taskTitle.textContent.split('(')[0] + `(${Math.floor(elapsedMinutes)}m/${maxMinutes}m)`;
                    }
                    
                }, 1000),
                startTime: startTime
            };
        }
        
        function resetTimer(id, maxMinutes) {
            // Stop the timer if running
            if (activeTimers[id]) {
                clearInterval(activeTimers[id].interval);
                document.getElementById('start' + id.slice(-1)).textContent = 'Start';
                delete activeTimers[id];
            }
            
            // Reset display
            document.getElementById(id).textContent = maxMinutes > 60 ? '00:00:00' : '00:00';
            document.getElementById('progress' + id.slice(-1)).style.width = '0%';
            
            // Reset task title
            const taskTitle = document.getElementById(id).closest('.task').querySelector('.task-title');
            taskTitle.textContent = taskTitle.textContent.split('(')[0] + `(0/${maxMinutes > 60 ? Math.floor(maxMinutes/60) + 'h' : maxMinutes + 'm'})`;
        }
    </script>
</body>
</html>